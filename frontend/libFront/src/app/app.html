<div class="app-container">
  <!-- Modern Navigation Header -->
  <header class="header">
    <div class="header-content">
      <!-- Logo / Brand -->
      <a [routerLink]="['/', currentLang]" class="logo">
        <span>Bookly</span>
      </a>

      <!-- Main Navigation - Centered -->
      <nav class="nav">
        <a
          [routerLink]="['/', currentLang, 'books']"
          class="nav-link"
          routerLinkActive="active"
        >
          <i class="fas fa-book"></i>
          <span>{{ "NAV_BOOKS" | translate }}</span>
        </a>
        <a
          [routerLink]="['/', currentLang, 'authors']"
          class="nav-link"
          routerLinkActive="active"
        >
          <i class="fas fa-users"></i>
          <span>{{ "NAV_AUTHORS" | translate }}</span>
        </a>
        <a
          [routerLink]="['/', currentLang, 'publishers']"
          class="nav-link"
          routerLinkActive="active"
        >
          <i class="fas fa-building"></i>
          <span>{{ "NAV_PUBLISHERS" | translate }}</span>
        </a>
      </nav>

      <!-- Header Actions -->
      <div class="header-actions">
        <!-- Language Selector -->
        <div class="language-selector">
          <button
            class="btn btn-secondary"
            (click)="toggleLanguageDropdown()"
            aria-label="Select language"
          >
            <i class="fas fa-globe"></i>
            <span>{{ currentLang.toUpperCase() }}</span>
          </button>
          <div class="dropdown-menu" [class.show]="isLanguageDropdownOpen">
            <button
              class="dropdown-item"
              [class.active]="currentLang === 'tr'"
              (click)="switchLanguage('tr')"
            >
              <span>ðŸ‡¹ðŸ‡·</span>
              <span>{{ "LANG_TURKISH" | translate }}</span>
            </button>
            <button
              class="dropdown-item"
              [class.active]="currentLang === 'en'"
              (click)="switchLanguage('en')"
            >
              <span>ðŸ‡ºðŸ‡¸</span>
              <span>{{ "LANG_ENGLISH" | translate }}</span>
            </button>
          </div>
        </div>

        <!-- Authentication Actions -->
        <div class="auth-actions">
          <ng-container *ngIf="!isLoggedIn(); else loggedInBlock">
            <a
              [routerLink]="['/', currentLang, 'login']"
              class="btn btn-secondary"
            >
              <i class="fas fa-sign-in-alt"></i>
              <span>{{ "HEADER_LOGIN" | translate }}</span>
            </a>
            <a
              [routerLink]="['/', currentLang, 'register']"
              class="btn btn-primary"
            >
              <i class="fas fa-user-plus"></i>
              <span>{{ "HEADER_REGISTER" | translate }}</span>
            </a>
          </ng-container>

          <!-- Logged In User Menu -->
          <ng-template #loggedInBlock>
            <div class="user-menu">
              <button
                class="user-button"
                (click)="toggleUserMenu()"
                aria-label="User menu"
              >
                <i class="fas fa-user"></i>
                <span>{{ getUserFullName() || "USER_MENU" | translate }}</span>
                <i class="fas fa-chevron-down"></i>
              </button>
              <div class="dropdown-menu" [class.show]="isUserMenuOpen">
                <a
                  [routerLink]="['/', currentLang, 'dashboard']"
                  class="dropdown-item"
                  (click)="closeUserMenu()"
                >
                  <i class="fas fa-book-open"></i>
                  <span>{{ "MY_LIBRARY" | translate }}</span>
                </a>
                <a
                  [routerLink]="['/', currentLang, 'profile']"
                  class="dropdown-item"
                  (click)="closeUserMenu()"
                >
                  <i class="fas fa-user-cog"></i>
                  <span>{{ "HEADER_MY_ACCOUNT" | translate }}</span>
                </a>
                <button
                  (click)="logout(); closeUserMenu()"
                  class="dropdown-item"
                >
                  <i class="fas fa-sign-out-alt"></i>
                  <span>{{ "USER_LOGOUT" | translate }}</span>
                </button>
              </div>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content Area -->
  <main class="main-content">
    <router-outlet></router-outlet>
  </main>

  <!-- Toast Notifications -->
  <app-toast></app-toast>

  <!-- Modern Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-bottom">
        <p class="copyright">{{ "FOOTER_COPYRIGHT" | translate }}</p>
      </div>
    </div>
  </footer>
</div>
