@startuml LibraryApp Deployment
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Deployment.puml

/' Assumption: Production deployment with separate servers for web and database '/
/' Assumption: HTTPS/TLS encryption for all communications '/


title Planned Deployment diagram for LibraryApp

Person(libraryUser, "Library User", "A person who wants to browse, borrow, and return books")
Person(admin, "Library Administrator", "A person who manages books, authors, publishers, and users")

Deployment_Node(browser, "User's Browser", "Chrome, Firefox, Safari, Edge", "Runs the Angular SPA application") {
    Container(spa, "Angular SPA", "Angular 17", "Provides all library functionality via web interface")
}

Deployment_Node(webServer, "Web Server", "Windows Server 2022", "Hosts the ASP.NET Core API application") {
    Container(api, "ASP.NET Core API", "C#, .NET 8", "Provides REST API for library operations and JWT authentication")
}

Deployment_Node(dbServer, "Database Server", "Windows Server 2022", "Hosts the SQL Server database") {
    ContainerDb(database, "SQL Database", "Microsoft SQL Server 2022", "Stores books, users, authors, publishers, and borrowing records")
}

Rel(libraryUser, spa, "Uses", "HTTPS/TLS")
Rel(admin, spa, "Uses", "HTTPS/TLS")
Rel(spa, api, "Makes API calls", "HTTPS/TLS (Port 443)")
Rel(api, database, "Reads from and writes to", "TCP/IP (Port 1433)")


footer Generated on %date("yyyy-MM-dd HH:mm:ss", "Europe/Istanbul") | LibraryApp v1.0

@enduml
