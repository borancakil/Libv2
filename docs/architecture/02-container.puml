@startuml LibraryApp Container
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

/' Assumption: Angular SPA runs in browser, API runs on web server, SQL Server on separate DB server '/
/' Assumption: JWT tokens are stored in localStorage as per project requirements '/

title Container diagram for LibraryApp

Person(libraryUser, "Library User", "A person who wants to browse, borrow, and return books")
Person(admin, "Library Administrator", "A person who manages books, authors, publishers, and users")

System_Boundary(libraryApp, "LibraryApp System") {
    Container(spa, "Angular SPA", "Angular 17", "Provides all library functionality via web interface")
    Container(api, "ASP.NET Core API", "C#, .NET 8", "Provides REST API for library operations and JWT authentication")
    ContainerDb(database, "SQL Database", "Microsoft SQL Server", "Stores books, users, authors, publishers, and borrowing records")
}

Rel(libraryUser, spa, "Uses", "HTTPS/JSON")
Rel(admin, spa, "Uses", "HTTPS/JSON")
Rel(spa, api, "Makes API calls", "HTTPS/JSON")
Rel(api, database, "Reads from and writes to", "ADO.NET/EF Core")
Rel(api, api, "Authenticates using", "JWT (JWS+JWE) in localStorage")

footer Generated on %date("yyyy-MM-dd HH:mm:ss", "Europe/Istanbul") | LibraryApp v1.0

@enduml
